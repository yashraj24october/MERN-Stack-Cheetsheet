In node.js, we have fs module to handle file handling in nodejs application.

> We can create new folder.
> We can create new files  in created folder/any folder.
> We can write content to file
> We can read content from file
> We can append new content in file


So, first we need to import fs module and also path module  in our js file.
as: const http = require('http')
const path = require('path')


They are two way to handle any file operation:
1. Synchronous way
2. Asynchronous way


1. Synchronous way:

	Ã˜ Creating new folder

first we need to create joined path for folder using path.join();
	So,

const currentDirectoryName = _dirname;
	Const folderName = 'New folder'
	Const folderPath = path.join(_dirname,folderName );
	
	Now, check whether this path exist, if exist that means folder exist, so

if(!fs.existsSync(folderPath)){

}

if path not exist of folder, now we can create folder.

For creating folder:
we can use fs.mkdirSync(folderPath), it will create folder.


> Creating new file in a folder
	
	First we need to create path of file, then check whether this path exist,
if the path of file exist that means file already exist.

so , const filePath = path.join(folderPath, 'new.txt');
	
checking filePath not exist,
	
if(!fs.existsSync(filePath)){

}
	
	Now if file path not exist, we can now create the file using  fs.writeFileSync

fs.writeFileAsync : It takes 2 arg: 
1. filePath
	2. Content

so, eg:   fs.writeFileSync(filePath,'This is content for new file')
Using this way, we can create new file and add content in it.


> Reading content from file

we can use fs.readFileSync()
It takes 2 args:
1. filePath
	2. Encoding: 'utf-8'

- It return the content of file.

before getting content, we should first check file exists or not.



> Appending new content in file

We can use fs.appendFileAsnc()
It takes 2 args:
1. filePath
	2.  'Content to append'

as: const contentFromFile = fs.appendFileAsync(filePath,'\nNew Content');


In this way, using path module and fs module, we can create new folder, file and add and read contents.

	

There are also Async way of file operations in node js.
for async,
we have same functions just without async,
eg: writeFile,readFile,appendFile 

in each method, we can pass callback function as last arg and in callback which we can get error and data.
as (error,data) =>{

}

	
	1. Reading file async
	fs.readFile("config.json", "utf8", (err, data) => {
	  if (err) {
	    console.error("Error reading file:", err.message);
	    return;
	  }
	  console.log("File content:", data);
	});
	2. Writing file async
	fs.writeFile("user.txt", "Hello User!", (err) => {
	  if (err) {
	    console.error("Error writing file:", err.message);
	    return;
	  }
	  console.log("File successfully written.");
	});
	
	3. Appending content to file async
	fs.appendFile("app.log", "New log entry\n", (err) => {
	  if (err) {
	    console.error("Error appending to file:", err.message);
	    return;
	  }
	  console.log("Content appended.");
	});
	
	
	4. Deleting a file async
	fs.unlink("temp.txt", (err) => {
	  if (err) {
	    console.error("Error deleting file:", err.message);
	    return;
	  }
	  console.log("File deleted.");
	});
	
	5. Rename a file async

	fs.rename("oldname.txt", "newname.txt", (err) => {
	  if (err) {
	    console.error("Error renaming file:", err.message);
	    return;
	  }
	  console.log("File renamed.");
	});
	


	6. Copying content of a file into another async

	fs.copyFile("data.txt", "backup.txt", (err) => {
	  if (err) {
	    console.error("Error copying file:", err.message);
	    return;
	  }
	  console.log("File copied.");
	});
	

	7. Checking file exists or not async

	try {
	  if (fs.existsSync("config.json")) {
	    console.log("File exists.");
	  } else {
	    console.log("File does not exist.");
	  }
	} catch (err) {
	  console.error("Error checking file:", err.message);
	}


	8. Creating a folder async

	fs.mkdir("uploads", { recursive: true }, (err) => {
	  if (err) {
	    console.error("Error creating directory:", err.message);
	    return;
	  }
	  console.log("Directory created.");
	});
	

	9. Deleting a folder async

	fs.rm("oldFolder", { recursive: true, force: true }, (err) => {
	  if (err) {
	    console.error("Error removing directory:", err.message);
	    return;
	  }
	  console.log("Directory removed.");
	});
	

	10. Getting File status

	const fs = require("fs");
	
	fs.stat("data.txt", (err, stats) => {
	  if (err) {
	    console.error("Error getting stats:", err.message);
	    return;
	  }
	  console.log("File Stats:", stats);
	});
	

	11. Using fs.promises

	const fs = require("fs/promises");
	
	async function readConfig() {
	  try {
	    const data = await fs.readFile("config.json", "utf8");
	    console.log("Config:", data);
	  } catch (err) {
	    console.error("Error:", err.message);
	  }
	}
	
	readConfig();
	
	
